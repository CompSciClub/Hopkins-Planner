extends layout

block scripts
  script(type="text/javascript")
    var monday = #{date.getTime()};
    var blocks = JSON.parse(decodeURIComponent("#{encodeURIComponent(JSON.stringify(blocks))}"));
    var events = JSON.parse(decodeURIComponent("#{encodeURIComponent(JSON.stringify(events))}"));
  script(type="text/javascript", src="/javascripts/index.js")
  <script src="/javascripts/week.js"></script>
  <script src="jQuery.ui.datepicker.js"></script>
  <script src="jquery.ui.datepicker.mobile.js"></script>
  <script src="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.js"></script>

block styles
  <link rel="stylesheet" href="/stylesheets/week.css">
  <link rel="stylesheet" href="jquery.ui.datepicker.mobile.css" /> 
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.css" />


block sidebar
  a.btn(href="/weekly/#{offset - 1}")
    i.icon-arrow-left
  a.btn(href="/weekly/#{offset + 1}", style="margin-left: 5px")
    i.icon-arrow-right

block content
  .content
    center
      label(for="date")Date:
      input#date(type="date",name="date",value="")
      table(id="singleDay", class="table table-bordered", 
style="width:100% !important")
        thead
          td current day mother fucker
          tbody
           tr 
              td Block 1
           tr 
              td Block 2
           tr 
              td Block 3
           tr 
              td Block 4
           tr 
              td Block 5
           tr 
              td Block 6

    center
      table(id="CalendarTable", class="table table-bordered", style="width:100% !important")
        colgroup
          col.monday
          col.tuesday
          col.wednesday
          col.thursday
          col.friday
          col.weekend
          col.weekend
        tbody
          tr
            th.block Monday #{date.getMonth() + 1}/#{date.getDate()}
            - date = addDay(date);
            th.block Tuesday #{date.getMonth() + 1}/#{date.getDate()}
            - date = addDay(date);
            th.block Wednesday #{date.getMonth() + 1}/#{date.getDate()}
            - date = addDay(date);
            th.block Thursday #{date.getMonth() + 1}/#{date.getDate()}
            - date = addDay(date);
            th.block Friday #{date.getMonth() + 1}/#{date.getDate()}
            - date = addDay(date);
            th.weekend.block(colspan="2") 
              | Weekend #{date.getMonth() + 1}/#{date.getDate()}
              - date = addDay(date)
              | - #{date.getMonth() + 1}/#{date.getDate()}
          for period in week
            tr
              each block, day in period
                - var rowspan = "1"
                - if(day == 5 || day == 6 || block == "No School")
                  - rowspan = "6"
                - else if(block == "Activities")
                  - rowspan = "2"
                - var className = "";
                - if(blocks[block])
                  - className = blocks[block];
                - else
                  - className = block;
                td(class="#{block} block", rowspan="#{rowspan}") #{className}
                  if (events[day] && events[day][block])
                    each eventObj in events[day][block]
                      - var done = (eventObj.done) ?Â "done" : "";
                      .label.success.event(class="#{eventObj.class} #{done}", eventId = eventObj._id, style="height:20", rel="popover", data-content="#{escapeHtml(eventObj.description)}", data-original-title="#{escapeHtml(eventObj.name)}")
                          #{escapeHtml(eventObj.name)}
                          if eventObj.done
                            input.eventCheck(type="checkbox", checked="checked")
                          else
                            input.eventCheck(type="checkbox")
    #eventCreatorModal.modal.hide.fade.
      <div class="modal-header">
        <a data-dismiss="modal" class="close">&times;</a>
        <h3>
          <input id="eventNameInput" class="xlarge" type="text" value="Event Name">
          <br />
          <small id="eventDate"><span class="eventBlock"></span> on <span class="eventDate"></span></small>
      </div>
      <div class="modal-body">
        <form>
          <table>
            <tr>
              <td class="noBorder" width="50%">
                <select name="normalSelect" id="blockSelect">
                </select>
                <br />
                <br />
                <textarea id="modalDescriptionBox">Description here</textarea>
              </td>
              <td class="noBorder">
                <p><input name="modalRadio1" checked="true" type="radio"> Homework</p>
                <p><input name="modalRadio1" type="radio"> Quiz</p>
                <p><input name="modalRadio1" type="radio"> Test</p>
                <p><input name="modalRadio1" type="radio"> Project</p>
                <p><input name="modalRadio1" type="radio"> Reminder</p>
              </td>
            </tr>
          </table>
        </form>
      </div>
      <div class="modal-footer">
        <a id="saveButton" class="btn btn-primary">
          <i class="icon-ok icon-white"></i>
          Save
        </a>
        <a id="cancelButton" class="btn btn-secondary">
          <i class="icon-remove icon-black"></i>
          Cancel
        </a>
      </div>
    </div>
    <!-- End Modal Content -->
